import{d as defineComponent,r as reactive,h as hooks,c as createElementBlock,a as createBaseVNode,w as withDirectives,v as vModelText,b as createCommentVNode,o as openBlock,p as pushScopeId,e as popScopeId,_ as _export_sfc,f as ref,g as createVNode,F as Fragment,i as renderList,l as loadFile,j as parse_task,t as toDisplayString,n as normalizeClass,k as normalizeStyle}from"./index-CaKoKAN1.js";const _withScopeId$1=e=>(pushScopeId("data-v-4190e686"),e=e(),popScopeId(),e),_hoisted_1$1={class:"submit-form"},_hoisted_2$1={key:0},_hoisted_3$1=_withScopeId$1(()=>createBaseVNode("label",{class:"submit-form-text",for:"title"},"Input title: ",-1)),_hoisted_4$1=_withScopeId$1(()=>createBaseVNode("br",null,null,-1)),_hoisted_5$1=_withScopeId$1(()=>createBaseVNode("label",{class:"submit-form-text",for:"input-file"},"Input Picutre: ",-1)),_hoisted_6$1=_withScopeId$1(()=>createBaseVNode("br",null,null,-1)),_hoisted_7$1=_withScopeId$1(()=>createBaseVNode("label",{class:"submit-form-text",for:"submit-content"},"Submit Message: ",-1)),_sfc_main$1=defineComponent({__name:"SubmitForm",props:["is_submit_form_show"],emits:["submit"],setup(e,{emit:o}){const s=e,a=reactive({date:hooks().format("YYYY-MM-DD: HH-mm:ss"),title:"",message:"",file_list:[]});function _(l){let t=l.target.files;if(t==null||t==null){alert("No files upload");return}for(let i of t)if(i.size>500*1024*1024){alert("upload file over than 500M!");break}for(let i of t){let n=new FormData;n.append("file",i),a.file_list.push(n)}console.log(a)}function c(){alert("Please use git to submit!")}return(l,t)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",{class:"submit-button",onClick:c},"submit"),s.is_submit_form_show?(openBlock(),createElementBlock("div",_hoisted_2$1,[_hoisted_3$1,withDirectives(createBaseVNode("input",{class:"submit-form-title",id:"title",type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>a.title=i)},null,512),[[vModelText,a.title]]),_hoisted_4$1,_hoisted_5$1,createBaseVNode("input",{class:"input-file",id:"input-file",type:"file",multiple:"",accept:".png, .jpg, .jpeg",name:"Upload",onChange:_},null,32),_hoisted_6$1,_hoisted_7$1,withDirectives(createBaseVNode("textarea",{class:"submit-content",id:"submit-content",rows:"10",placeholder:"input your submit message: ","onUpdate:modelValue":t[1]||(t[1]=i=>a.message=i)},null,512),[[vModelText,a.message]])])):createCommentVNode("",!0)]))}}),SubmitForm=_export_sfc(_sfc_main$1,[["__scopeId","data-v-4190e686"]]),_withScopeId=e=>(pushScopeId("data-v-875eaf18"),e=e(),popScopeId(),e),_hoisted_1={class:"submission"},_hoisted_2=_withScopeId(()=>createBaseVNode("h1",null,"This is an submission page",-1)),_hoisted_3={class:"submission-content"},_hoisted_4={class:"submission-func"},_hoisted_5=["href"],_hoisted_6={class:"submission-func-container"},_hoisted_7={class:"submission-date"},_hoisted_8={class:"submission-message"},_sfc_main=defineComponent({__name:"Submission",setup(__props){const is_submit_form_show=ref(!1),submission_status=["submit","checked","awarded","failed"],submission_status_color=["#895ef9fc","#41d6ba","#3ddf58","#f95e85fc"],submission_list=reactive([]);function load_data(){var e;const ans_text=loadFile("./submission.json"),ans_list=eval(""+ans_text);let res=(e=loadFile("./task"))==null?void 0:e.toString();if(res==null)return;let task_list=parse_task(res);task_list.forEach((o,s)=>{submission_list.push({title:o.title,date:o.date,message:o.message,status:ans_list[s],file:o.file,link:o.link})})}load_data();function submit(e){is_submit_form_show.value==!0&&(e.message==""||e.title==""||e.file_list.length<1)&&alert("Nothing to submit! The form should be completed!"),is_submit_form_show.value=!is_submit_form_show.value,console.log(is_submit_form_show.value,e)}return(e,o)=>(openBlock(),createElementBlock("div",_hoisted_1,[_hoisted_2,createVNode(SubmitForm,{is_submit_form_show:is_submit_form_show.value,onSubmit:submit},null,8,["is_submit_form_show"]),createBaseVNode("ul",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(submission_list,s=>(openBlock(),createElementBlock("li",{class:"submission-item",key:s.date},[createBaseVNode("div",_hoisted_4,[createBaseVNode("a",{class:"submission-title",target:"_blank",href:s.link},toDisplayString(s.title),9,_hoisted_5),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,toDisplayString(s.date),1),createBaseVNode("div",{class:normalizeClass({"submission-status":!0,"submission-status-error":s.status==3}),style:normalizeStyle({backgroundColor:submission_status_color[s.status]})},toDisplayString(submission_status[s.status]),7)])]),createBaseVNode("div",_hoisted_8,toDisplayString(s.message),1)]))),128))])]))}}),Submission=_export_sfc(_sfc_main,[["__scopeId","data-v-875eaf18"]]);export{Submission as default};
