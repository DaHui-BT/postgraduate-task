import{d as _,g as w,u as b,j as d,D as k,o as R,c as A,b as o,z as c,A as p,f as g,v as h,n as C,p as I,h as z,_ as S}from"./index-uNL48YLD.js";const m=n=>(I("data-v-25deba27"),n=n(),z(),n),V={class:"register"},y={class:"register-container"},B=m(()=>o("h2",{class:"register-title"},"Register",-1)),D={class:"register-message"},E=m(()=>o("span",null,"have an account?",-1)),U=_({__name:"Register",setup(n){var u;const e=(u=w())==null?void 0:u.proxy;if(e==null||e==null)throw Error("Server, please try later");const f=b();let a=d(),s=d();const v=new k;async function i(){var r;if(a.value==null||s.value==null||a.value.trim().length==0||s.value.trim().length==0){alert("email and password must not be null");return}else if(/^([A-Za-z0-9_\-\.\u4e00-\u9fa5])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,8})$/.test(a.value)){if(s.value.length<6||s.value.length>128){alert("password length must fit > 6 and < 128");return}}else{alert("email format is not correct");return}e==null||e.$loading.show(),await((r=v.app)==null?void 0:r.emailPasswordAuth.registerUser({email:a.value,password:s.value}).then(()=>{f.push({path:"/login"})}).catch(t=>{e==null||e.$notification.show("Error",t.error),console.log(t,t.error)}).finally(()=>{e==null||e.$loading.hide()}))}return window.onkeyup=r=>{r.keyCode==13&&i()},(r,t)=>(R(),A("div",V,[o("div",y,[B,c(o("input",{class:"register-item",type:"text",placeholder:"email","onUpdate:modelValue":t[0]||(t[0]=l=>h(a)?a.value=l:a=l)},null,512),[[p,g(a)]]),c(o("input",{class:"register-item",type:"password",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=l=>h(s)?s.value=l:s=l)},null,512),[[p,g(s)]]),o("p",D,[E,C(),o("a",{onClick:t[2]||(t[2]=()=>r.$router.push("/login"))},"login")]),o("button",{class:"register-button",onClick:i},"Register")])]))}}),$=S(U,[["__scopeId","data-v-25deba27"]]);export{$ as default};
