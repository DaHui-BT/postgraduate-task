import{d as _,g as w,u as y,l as c,D as b,o as k,c as C,b as t,z as p,A as g,f as m,v as f,h as I,p as S,j as L,_ as R}from"./index-CoWUiQRq.js";const v=r=>(S("data-v-054fe949"),r=r(),L(),r),V={class:"login"},x={class:"login-container"},B=v(()=>t("h2",{class:"login-title"},"Login",-1)),D={class:"login-message"},q=v(()=>t("span",null,"don't have an account?",-1)),E=_({__name:"Login",setup(r){var d;const e=(d=w())==null?void 0:d.proxy;if(e==null||e==null)throw Error("Server, please try later");const i=y();let a=c(),o=c();const h=new b;async function u(){if(a.value==null||o.value==null||a.value.trim().length==0||o.value.trim().length==0){alert("email and password must not be null");return}e==null||e.$loading.show(),await h.connect(a.value,o.value).then(n=>{i.currentRoute.value.query.from!=null?i.replace(i.currentRoute.value.query.from.toString()):i.replace({path:"/"})}).catch(n=>{alert("username or password is error, please try again!")}).finally(()=>{e==null||e.$loading.hide()})}return window.onkeyup=n=>{n.keyCode==13&&u()},(n,s)=>(k(),C("div",V,[t("div",x,[B,p(t("input",{class:"login-item",type:"text",placeholder:"email","onUpdate:modelValue":s[0]||(s[0]=l=>f(a)?a.value=l:a=l)},null,512),[[g,m(a)]]),p(t("input",{class:"login-item",type:"password",placeholder:"password","onUpdate:modelValue":s[1]||(s[1]=l=>f(o)?o.value=l:o=l)},null,512),[[g,m(o)]]),t("p",D,[q,I(),t("a",{onClick:s[2]||(s[2]=()=>n.$router.push("/register"))},"register")]),t("button",{class:"login-button",onClick:u},"Login")])]))}}),T=R(E,[["__scopeId","data-v-054fe949"]]);export{T as default};
