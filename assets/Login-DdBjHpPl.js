import{d as _,h as w,x as y,g as c,D as k,o as b,c as C,e as t,y as p,z as g,u as m,A as f,l as I,p as S,q as x,_ as L}from"./index-CBJSSvT5.js";const v=r=>(S("data-v-054fe949"),r=r(),x(),r),R={class:"login"},V={class:"login-container"},q=v(()=>t("h2",{class:"login-title"},"Login",-1)),B={class:"login-message"},D=v(()=>t("span",null,"don't have an account?",-1)),E=_({__name:"Login",setup(r){var d;const e=(d=w())==null?void 0:d.proxy;if(e==null||e==null)throw Error("Server, please try later");const i=y();let a=c(),o=c();const h=new k;async function u(){if(a.value==null||o.value==null||a.value.trim().length==0||o.value.trim().length==0){alert("email and password must not be null");return}e==null||e.$loading.show(),await h.connect(a.value,o.value).then(n=>{i.currentRoute.value.query.from!=null?i.replace(i.currentRoute.value.query.from.toString()):i.replace({path:"/"})}).catch(n=>{alert("username or password is error, please try again!")}).finally(()=>{e==null||e.$loading.hide()})}return window.onkeyup=n=>{n.keyCode==13&&u()},(n,s)=>(b(),C("div",R,[t("div",V,[q,p(t("input",{class:"login-item",type:"text",placeholder:"email","onUpdate:modelValue":s[0]||(s[0]=l=>f(a)?a.value=l:a=l)},null,512),[[g,m(a)]]),p(t("input",{class:"login-item",type:"password",placeholder:"password","onUpdate:modelValue":s[1]||(s[1]=l=>f(o)?o.value=l:o=l)},null,512),[[g,m(o)]]),t("p",B,[D,I(),t("a",{onClick:s[2]||(s[2]=()=>n.$router.push("/register"))},"register")]),t("button",{class:"login-button",onClick:u},"Login")])]))}}),T=L(E,[["__scopeId","data-v-054fe949"]]);export{T as default};
