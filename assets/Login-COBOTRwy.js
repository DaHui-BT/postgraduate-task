import{d as f,g as c,D as h,o as w,c as y,e,x as d,z as p,u as g,A as m,k as b,B as k,p as x,m as C,q as I,_ as B}from"./index-DXRoSsfY.js";const _=l=>(x("data-v-22b33109"),l=l(),C(),l),L={class:"login"},R={class:"login-container"},S=_(()=>e("h2",{class:"login-title"},"Login",-1)),V={class:"login-message"},q=_(()=>e("span",null,"don't have an account?",-1)),D=f({__name:"Login",setup(l){const{proxy:i}=I(),r=k();let o=c(),t=c();const v=new h;async function u(){if(o.value==null||t.value==null||o.value.trim().length==0||t.value.trim().length==0){alert("email and password must not be null");return}i.$loading.show(),await v.connect(o.value,t.value).then(s=>{r.currentRoute.value.query.from!=null?r.replace(r.currentRoute.value.query.from.toString()):r.replace({path:"/"})}).catch(s=>{alert("username or password is error, please try again!")}).finally(()=>{i.$loading.hide()})}return window.onkeyup=s=>{s.keyCode==13&&u()},(s,a)=>(w(),y("div",L,[e("div",R,[S,d(e("input",{class:"login-item",type:"text",placeholder:"email","onUpdate:modelValue":a[0]||(a[0]=n=>m(o)?o.value=n:o=n)},null,512),[[p,g(o)]]),d(e("input",{class:"login-item",type:"password",placeholder:"password","onUpdate:modelValue":a[1]||(a[1]=n=>m(t)?t.value=n:t=n)},null,512),[[p,g(t)]]),e("p",V,[q,b(),e("a",{onClick:a[2]||(a[2]=()=>s.$router.push("/register"))},"register")]),e("button",{class:"login-button",onClick:u},"Login")])]))}}),T=B(D,[["__scopeId","data-v-22b33109"]]);export{T as default};
