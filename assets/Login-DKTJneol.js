import{d as _,r as d,D as h,o as w,c as y,b as e,w as c,v as p,u as g,s as m,x,y as b,p as k,f as C,q as I,_ as L}from"./index-Cgh6yWP9.js";const f=l=>(k("data-v-87f0ed7a"),l=l(),C(),l),R={class:"login"},S={class:"login-container"},V=f(()=>e("h2",{class:"login-title"},"Login",-1)),q={class:"login-message"},B=f(()=>e("span",null,"don't have a account?",-1)),D=_({__name:"Login",setup(l){const{proxy:i}=I(),r=b();let a=d(),o=d();const v=new h;async function u(){if(a.value==null||o.value==null||a.value.trim().length==0||o.value.trim().length==0){alert("email and password must not be null");return}i.$loading.show(),await v.connect(a.value,o.value).then(t=>{r.currentRoute.value.query.from!=null?r.replace(r.currentRoute.value.query.from.toString()):r.replace({path:"/"})}).catch(t=>{alert("username or password is error, please try again!")}).finally(()=>{i.$loading.hide()})}return window.onkeyup=t=>{t.keyCode==13&&u()},(t,s)=>(w(),y("div",R,[e("div",S,[V,c(e("input",{class:"login-item",type:"text",placeholder:"email","onUpdate:modelValue":s[0]||(s[0]=n=>m(a)?a.value=n:a=n)},null,512),[[p,g(a)]]),c(e("input",{class:"login-item",type:"password",placeholder:"password","onUpdate:modelValue":s[1]||(s[1]=n=>m(o)?o.value=n:o=n)},null,512),[[p,g(o)]]),e("p",q,[B,x(),e("a",{onClick:s[2]||(s[2]=()=>t.$router.push("/register"))},"register")]),e("button",{class:"login-button",onClick:u},"Login")])]))}}),T=L(D,[["__scopeId","data-v-87f0ed7a"]]);export{T as default};
