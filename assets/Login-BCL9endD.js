import{d as f,r as d,D as h,o as w,c as y,b as e,w as c,v as p,u as g,A as m,s as b,B as k,p as x,f as C,y as I,_ as B}from"./index-VWLPA4N7.js";const v=l=>(x("data-v-ad6dc1e0"),l=l(),C(),l),L={class:"login"},R={class:"login-container"},S=v(()=>e("h2",{class:"login-title"},"Login",-1)),V={class:"login-message"},D=v(()=>e("span",null,"don't have a account?",-1)),q=f({__name:"Login",setup(l){const{proxy:i}=I(),r=k();let a=d(),o=d();const _=new h;async function u(){if(a.value==null||o.value==null||a.value.trim().length==0||o.value.trim().length==0){alert("email and password must not be null");return}i.$loading.show(),await _.connect(a.value,o.value).then(t=>{r.currentRoute.value.query.from!=null?r.replace(r.currentRoute.value.query.from.toString()):r.replace({path:"/"})}).catch(t=>{alert("username or password is error, please try again!")}).finally(()=>{i.$loading.hide()})}return window.onkeyup=t=>{t.keyCode==13&&u()},(t,s)=>(w(),y("div",L,[e("div",R,[S,c(e("input",{class:"login-item",type:"text",placeholder:"email","onUpdate:modelValue":s[0]||(s[0]=n=>m(a)?a.value=n:a=n)},null,512),[[p,g(a)]]),c(e("input",{class:"login-item",type:"password",placeholder:"password","onUpdate:modelValue":s[1]||(s[1]=n=>m(o)?o.value=n:o=n)},null,512),[[p,g(o)]]),e("p",V,[D,b(),e("a",{onClick:s[2]||(s[2]=()=>t.$router.push("/register"))},"register")]),e("button",{class:"login-button",onClick:u},"Login")])]))}}),T=B(q,[["__scopeId","data-v-ad6dc1e0"]]);export{T as default};
