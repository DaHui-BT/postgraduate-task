import{d as _,r as d,D as h,o as w,c as y,b as e,w as c,v as p,u as g,z as m,y as x,A as b,p as k,f as C,x as I,_ as L}from"./index-Bi6DDS9X.js";const f=l=>(k("data-v-87f0ed7a"),l=l(),C(),l),R={class:"login"},S={class:"login-container"},V=f(()=>e("h2",{class:"login-title"},"Login",-1)),B={class:"login-message"},D=f(()=>e("span",null,"don't have a account?",-1)),q=_({__name:"Login",setup(l){const{proxy:i}=I(),r=b();let a=d(),o=d();const v=new h;async function u(){if(a.value==null||o.value==null||a.value.trim().length==0||o.value.trim().length==0){alert("email and password must not be null");return}i.$loading.show(),await v.connect(a.value,o.value).then(s=>{r.currentRoute.value.query.from!=null?r.replace(r.currentRoute.value.query.from.toString()):r.replace({path:"/"})}).catch(s=>{alert("username or password is error, please try again!")}).finally(()=>{i.$loading.hide()})}return window.onkeyup=s=>{s.keyCode==13&&u()},(s,t)=>(w(),y("div",R,[e("div",S,[V,c(e("input",{class:"login-item",type:"text",placeholder:"email","onUpdate:modelValue":t[0]||(t[0]=n=>m(a)?a.value=n:a=n)},null,512),[[p,g(a)]]),c(e("input",{class:"login-item",type:"password",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=n=>m(o)?o.value=n:o=n)},null,512),[[p,g(o)]]),e("p",B,[D,x(),e("a",{onClick:t[2]||(t[2]=()=>s.$router.push("/register"))},"register")]),e("button",{class:"login-button",onClick:u},"Login")])]))}}),T=L(q,[["__scopeId","data-v-87f0ed7a"]]);export{T as default};
