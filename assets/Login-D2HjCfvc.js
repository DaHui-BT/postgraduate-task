import{d as _,h as w,y,g as c,D as k,o as b,c as C,e as t,z as p,A as g,u as m,p as f,l as I,q as S,s as L,_ as R}from"./index-Dgl24Zx3.js";const v=r=>(S("data-v-054fe949"),r=r(),L(),r),V={class:"login"},q={class:"login-container"},x=v(()=>t("h2",{class:"login-title"},"Login",-1)),B={class:"login-message"},D=v(()=>t("span",null,"don't have an account?",-1)),E=_({__name:"Login",setup(r){var d;const e=(d=w())==null?void 0:d.proxy;if(e==null||e==null)throw Error("Server, please try later");const i=y();let a=c(),s=c();const h=new k;async function u(){if(a.value==null||s.value==null||a.value.trim().length==0||s.value.trim().length==0){alert("email and password must not be null");return}e==null||e.$loading.show(),await h.connect(a.value,s.value).then(n=>{i.currentRoute.value.query.from!=null?i.replace(i.currentRoute.value.query.from.toString()):i.replace({path:"/"})}).catch(n=>{alert("username or password is error, please try again!")}).finally(()=>{e==null||e.$loading.hide()})}return window.onkeyup=n=>{n.keyCode==13&&u()},(n,o)=>(b(),C("div",V,[t("div",q,[x,p(t("input",{class:"login-item",type:"text",placeholder:"email","onUpdate:modelValue":o[0]||(o[0]=l=>f(a)?a.value=l:a=l)},null,512),[[g,m(a)]]),p(t("input",{class:"login-item",type:"password",placeholder:"password","onUpdate:modelValue":o[1]||(o[1]=l=>f(s)?s.value=l:s=l)},null,512),[[g,m(s)]]),t("p",B,[D,I(),t("a",{onClick:o[2]||(o[2]=()=>n.$router.push("/register"))},"register")]),t("button",{class:"login-button",onClick:u},"Login")])]))}}),T=R(E,[["__scopeId","data-v-054fe949"]]);export{T as default};
